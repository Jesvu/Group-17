<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="content-type" content="application/xhtml+xml; charset=UTF-8" />
    <title>Election Machine</title>
  </head>
  
<script>
function readAllQuestions(){
	var xmlhttp=new XMLHttpRequest();
	xmlhttp.onreadystatechange = function() {
	  if (this.readyState == 4 && this.status == 200) {
		  var jsonquestionlist=this.responseText;
		  //Add JSON string as a content of element resultall
		  document.getElementById("resultall").innerHTML = jsonquestionlist;
		  //Parse json string to a Javascript object
		  var kysymyslista=JSON.parse(jsonquestionlist);
		  //print fish by function printOneFish.
		  printAllQuestions(kysymyslista);
	  }
	};
	xmlhttp.open("GET", "/rest/electionmachine/kysymykset", true);
	xmlhttp.send();	
}
function printAllQuestions(list){
	var s="<table border='1'>";
	for (i in list){//or for (var i=0;i<list.length;i++){
		s=s+"<tr>";
		s=s+"<td>"+list[i].kysymysId;
		s=s+"<td>"+list[i].kysymys;
	}
	s=s+"</table>";
	document.getElementById("allquestions").innerHTML=s;
}
</script>

  <body>
  
   <a href="/rest/restquest/getallquestions">Vastaa kysymyksiin</a> 
  
  
    <h1>Ehdokkaat</h1>

	<a href="/rest/electionmachine/read">N채yt채 Ehdokkaat</a> 

	<h1>Questions</h1>
	
	<a href="/rest/electionmachine/kysymykset">N채yt채 Kysymykset</a> 
	
	

	<h1>Ajax (in progress)</h1>
    <button onclick='readAllQuestions();'>Read all Questions</button>
    <p id='resultall'></p>
    <div id='allquestions'>
    </div>
    
    <a href="/rest/restlogin/loginpage">Kirjautuminen</a>

  </body>
</html>